{"ast":null,"code":"import _classCallCheck from\"/Users/z0041gm/school/DigitalSkillsAssessment/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/z0041gm/school/DigitalSkillsAssessment/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/z0041gm/school/DigitalSkillsAssessment/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/z0041gm/school/DigitalSkillsAssessment/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/z0041gm/school/DigitalSkillsAssessment/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Formik,Field,Form,ErrorMessage}from'formik';import*as Yup from'yup';import\"../css/Level15.css\";import Snackbar from\"@material-ui/core/Snackbar\";import MuiAlert from\"@material-ui/lab/Alert\";import axios from\"axios\";var initialValues={email:'',password:''};var validationSchema=Yup.object().shape({email:Yup.string().email('Email is invalid').required('Email is required'),password:Yup.string().required('Password is required')});var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.handleClose=function(){_this.setState({error:false});};_this.onSubmit=function(_ref){var email=_ref.email,password=_ref.password;axios.get('http://localhost:5050/user').then(function(response){if(email===response.data.email&&password===response.data.password){_this.props.changeView('showDone');}else{_this.setState({error:true});}});};_this.state={error:false};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(Snackbar,{open:this.state.error,autoHideDuration:5000,anchorOrigin:{vertical:'top',horizontal:'right'},style:{top:'100px'},onClose:this.handleClose},React.createElement(MuiAlert,{elevation:6,variant:\"filled\",severity:\"error\"},\"Incorrect Login Credentials\")),React.createElement(\"br\",null),React.createElement(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:this.onSubmit},function(_ref2){var errors=_ref2.errors,touched=_ref2.touched;return React.createElement(Form,null,React.createElement(\"h2\",{style:{textAlign:'center'}},\"Login\"),React.createElement(\"div\",{className:\"card-body\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"form-label\"},\"Email\"),React.createElement(Field,{name:\"email\",type:\"text\",className:'form-control'+(errors.email&&touched.email?' is-invalid':'')}),React.createElement(ErrorMessage,{name:\"email\",component:\"div\",className:\"invalid-feedback\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"form-label\"},\"Password\"),React.createElement(Field,{name:\"password\",type:\"password\",className:'form-control'+(errors.password&&touched.password?' is-invalid':'')}),React.createElement(ErrorMessage,{name:\"password\",component:\"div\",className:\"invalid-feedback\"})),React.createElement(\"div\",null,React.createElement(\"div\",null,React.createElement(\"button\",{type:\"submit\",className:\"submit-btn\"},\"Login\")),React.createElement(\"div\",null,React.createElement(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return _this2.props.changeView('forgotPassword');}},\"Forgot Password?\")))));}));}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["/Users/z0041gm/school/DigitalSkillsAssessment/src/util/Login.js"],"names":["React","Formik","Field","Form","ErrorMessage","Yup","Snackbar","MuiAlert","axios","initialValues","email","password","validationSchema","object","shape","string","required","Login","props","handleClose","setState","error","onSubmit","get","then","response","data","changeView","state","vertical","horizontal","top","errors","touched","textAlign","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport \"../css/Level15.css\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport axios from \"axios\";\n\nconst initialValues = { email: '', password: ''};\n\nconst validationSchema = Yup.object().shape({\n    email: Yup.string()\n        .email('Email is invalid')\n        .required('Email is required'),\n    password: Yup.string().required('Password is required')\n});\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: false\n        }\n    }\n\n    handleClose = () => {\n        this.setState({\n            error: false\n        })\n    }\n\n    onSubmit = ({ email, password }) => {\n        axios.get('http://localhost:5050/user')\n            .then((response) => {\n                if (email === response.data.email && password === response.data.password) {\n                    this.props.changeView('showDone')\n                }\n                else {\n                    this.setState({\n                        error: true\n                    })\n                }\n            });\n    }\n\n    render () {\n        return (\n            <div>\n                <Snackbar open={this.state.error} autoHideDuration={5000}\n                          anchorOrigin={{vertical: 'top', horizontal: 'right'}} style={{top: '100px'}}\n                          onClose={this.handleClose}>\n                    <MuiAlert elevation={6} variant=\"filled\" severity=\"error\">Incorrect Login Credentials</MuiAlert>\n                </Snackbar>\n                <br/>\n                <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={this.onSubmit}>\n                    {({errors, touched}) => (\n                        <Form>\n                            <h2 style={{textAlign: 'center'}}>Login</h2>\n                            <div className=\"card-body\">\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Email</label>\n                                    <Field name=\"email\" type=\"text\"\n                                           className={'form-control' + (errors.email && touched.email ? ' is-invalid' : '')}/>\n                                    <ErrorMessage name=\"email\" component=\"div\" className=\"invalid-feedback\"/>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Password</label>\n                                    <Field name=\"password\" type=\"password\"\n                                           className={'form-control' + (errors.password && touched.password ? ' is-invalid' : '')}/>\n                                    <ErrorMessage name=\"password\" component=\"div\" className=\"invalid-feedback\"/>\n                                </div>\n                                <div>\n                                    <div>\n                                        <button type=\"submit\" className=\"submit-btn\">\n                                            Login\n                                        </button>\n                                    </div>\n                                    <div>\n                                        <a href='javascript:void(0)' onClick={() => this.props.changeView('forgotPassword')}>Forgot Password?</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </Form>\n                    )}\n                </Formik>\n            </div>\n        )\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}