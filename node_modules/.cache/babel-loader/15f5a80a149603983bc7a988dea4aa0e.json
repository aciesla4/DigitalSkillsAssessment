{"ast":null,"code":"import _classCallCheck from\"/Users/z0041gm/school/DigitalSkillsAssessment/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/z0041gm/school/DigitalSkillsAssessment/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/z0041gm/school/DigitalSkillsAssessment/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/z0041gm/school/DigitalSkillsAssessment/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/z0041gm/school/DigitalSkillsAssessment/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Formik,Field,Form,ErrorMessage}from'formik';import*as Yup from'yup';import\"../css/Level15.css\";import axios from\"axios\";var initialValues={email:''};var validationSchema=Yup.object().shape({email:Yup.string().email('Email is invalid').required('Email is required')});var ForgotPassword=/*#__PURE__*/function(_React$Component){_inherits(ForgotPassword,_React$Component);function ForgotPassword(){var _this;_classCallCheck(this,ForgotPassword);_this=_possibleConstructorReturn(this,_getPrototypeOf(ForgotPassword).call(this));_this.onSubmit=function(_ref){var email=_ref.email;axios.post('http://localhost:5050/passwordreset',{email:email}).then(function(response){_this.setState({showResetLink:true,resetLink:response.data});});_this.setState({success:true});};_this.handleClickReset=function(){axios.get('http://localhost:5050'+_this.state.resetLink).then(function(response){if(response.status==200){_this.props.changeView(\"resetPassword\");}else{console.log(\"error\");}});};_this.state={showResetLink:false,resetLink:''};return _this;}_createClass(ForgotPassword,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:this.onSubmit},function(_ref2){var errors=_ref2.errors,touched=_ref2.touched;return React.createElement(Form,null,React.createElement(\"br\",null),React.createElement(\"h2\",{style:{textAlign:'center'}},\"Forgot Password\"),React.createElement(\"div\",{className:\"card-body\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",null,\"Email\"),React.createElement(Field,{name:\"email\",type:\"text\",className:'form-control'+(errors.email&&touched.email?' is-invalid':'')}),React.createElement(ErrorMessage,{name:\"email\",component:\"div\",className:\"invalid-feedback\"})),React.createElement(\"div\",null,React.createElement(\"div\",null,React.createElement(\"button\",{type:\"submit\",className:\"submit-btn\"},\"Submit\")),React.createElement(\"div\",null,React.createElement(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return _this2.props.changeView('forgotPassword');}},\"Cancel\")))));}),this.state.showResetLink&&React.createElement(\"div\",{className:\"reset-container\"},React.createElement(\"button\",{className:\"reset-btn\",onClick:this.handleClickReset},\"Reset Your Password Here\")));}}]);return ForgotPassword;}(React.Component);export default ForgotPassword;","map":{"version":3,"sources":["/Users/z0041gm/school/DigitalSkillsAssessment/src/util/ForgotPassword.js"],"names":["React","Formik","Field","Form","ErrorMessage","Yup","axios","initialValues","email","validationSchema","object","shape","string","required","ForgotPassword","onSubmit","post","then","response","setState","showResetLink","resetLink","data","success","handleClickReset","get","state","status","props","changeView","console","log","errors","touched","textAlign","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport \"../css/Level15.css\";\nimport axios from \"axios\";\n\nconst initialValues = {\n    email: ''\n};\n\nconst validationSchema = Yup.object().shape({\n    email: Yup.string()\n        .email('Email is invalid')\n        .required('Email is required')\n});\n\nclass ForgotPassword extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            showResetLink: false,\n            resetLink: '',\n        }\n    }\n\n    onSubmit = ({ email }) => {\n        axios.post('http://localhost:5050/passwordreset', {email: email})\n            .then((response) => {\n                this.setState({\n                    showResetLink: true,\n                    resetLink: response.data\n                })\n            });\n        this.setState({\n            success: true,\n        })\n    }\n\n    handleClickReset = () => {\n        axios.get('http://localhost:5050' + this.state.resetLink).then(response => {\n            if (response.status == 200) {\n                this.props.changeView(\"resetPassword\")\n            }\n            else {\n                console.log(\"error\")\n            }\n        })\n\n    }\n\n    render() {\n        return (\n            <div>\n                <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={this.onSubmit}>\n                    {({errors, touched}) => (\n                        <Form>\n                            <br/>\n                            <h2 style={{textAlign: 'center'}}>Forgot Password</h2>\n                            <div className=\"card-body\">\n                                <div className=\"form-group\">\n                                    <label>Email</label>\n                                    <Field name=\"email\" type=\"text\"\n                                           className={'form-control' + (errors.email && touched.email ? ' is-invalid' : '')}/>\n                                    <ErrorMessage name=\"email\" component=\"div\" className=\"invalid-feedback\"/>\n                                </div>\n                                <div>\n                                    <div>\n                                        <button type=\"submit\" className=\"submit-btn\">\n                                            Submit\n                                        </button>\n                                    </div>\n                                    <div>\n                                        <a href='javascript:void(0)' onClick={() => this.props.changeView('forgotPassword')}>Cancel</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </Form>\n                    )}\n                </Formik>\n                {this.state.showResetLink && (\n                    <div className=\"reset-container\">\n                        <button className=\"reset-btn\" onClick={this.handleClickReset}>Reset Your Password Here</button>\n                    </div>\n                )}\n            </div>\n        )\n    }\n}\n\nexport default ForgotPassword;"]},"metadata":{},"sourceType":"module"}