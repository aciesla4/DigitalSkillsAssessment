{"ast":null,"code":"var _jsxFileName = \"/Users/z0041gm/school/DigitalSkillsAssessment/src/util/ResetPassword.js\";\nimport React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport \"../css/Level15.css\";\nimport axios from \"axios\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nconst initialValues = {\n  password: '',\n  confirmPassword: ''\n};\nconst validationSchema = Yup.object().shape({\n  password: Yup.string().min(6, 'Password must be at least 6 characters').required('Password is required'),\n  confirmPassword: Yup.string().oneOf([Yup.ref('password'), null], 'Passwords must match').required('Confirm Password is required')\n});\n\nclass ResetPassword extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClose = () => {\n      this.setState({\n        success: false\n      });\n      this.props.changeView('resetToLogin');\n    };\n\n    this.onSubmit = ({\n      password,\n      confirmPassword\n    }) => {\n      console.log(password, confirmPassword);\n      axios.post('http://localhost:5050/user', {\n        id: 1,\n        email: 'agent203@spyacademy.org',\n        password: password\n      }).then(response => {\n        if (response.status == 201) {\n          this.setState({\n            success: true\n          });\n        }\n      }); // alertService.clear();\n      // accountService.resetPassword({ token, password, confirmPassword })\n      //     .then(() => {\n      //         alertService.success('Password reset successful, you can now login', { keepAfterRouteChange: true });\n      //         history.push('login');\n      //     })\n      //     .catch(error => {\n      //         setSubmitting(false);\n      //         alertService.error(error);\n      //     });\n    };\n\n    this.state = {\n      success: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Snackbar, {\n      open: this.state.success,\n      autoHideDuration: 4000,\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'right'\n      },\n      style: {\n        top: '100px'\n      },\n      onClose: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      severity: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Password Reset Successful. Redirecting to Login Page\")), React.createElement(Formik, {\n      initialValues: initialValues,\n      validationSchema: validationSchema,\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, ({\n      errors,\n      touched\n    }) => React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Reset Password\"), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Field, {\n      name: \"password\",\n      type: \"password\",\n      className: 'form-control' + (errors.password && touched.password ? ' is-invalid' : ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(ErrorMessage, {\n      name: \"password\",\n      component: \"div\",\n      className: \"invalid-feedback\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Confirm Password\"), React.createElement(Field, {\n      name: \"confirmPassword\",\n      type: \"password\",\n      className: 'form-control' + (errors.confirmPassword && touched.confirmPassword ? ' is-invalid' : ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(ErrorMessage, {\n      name: \"confirmPassword\",\n      component: \"div\",\n      className: \"invalid-feedback\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"signin-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Reset Password\"), React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      onClick: () => this.props.changeView('resetToLogin'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Cancel\")))))));\n  }\n\n}\n\nexport default ResetPassword;","map":{"version":3,"sources":["/Users/z0041gm/school/DigitalSkillsAssessment/src/util/ResetPassword.js"],"names":["React","Formik","Field","Form","ErrorMessage","Yup","axios","MuiAlert","Snackbar","initialValues","password","confirmPassword","validationSchema","object","shape","string","min","required","oneOf","ref","ResetPassword","Component","constructor","props","handleClose","setState","success","changeView","onSubmit","console","log","post","id","email","then","response","status","state","render","vertical","horizontal","top","errors","touched","textAlign"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport \"../css/Level15.css\";\nimport axios from \"axios\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nconst initialValues = {\n    password: '',\n    confirmPassword: ''\n};\n\nconst validationSchema = Yup.object().shape({\n    password: Yup.string()\n        .min(6, 'Password must be at least 6 characters')\n        .required('Password is required'),\n    confirmPassword: Yup.string()\n        .oneOf([Yup.ref('password'), null], 'Passwords must match')\n        .required('Confirm Password is required'),\n});\n\nclass ResetPassword extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            success: false\n        }\n    }\n\n    handleClose = () => {\n        this.setState({\n            success: false\n        })\n        this.props.changeView('resetToLogin')\n    }\n\n    onSubmit = ({ password, confirmPassword }) => {\n        console.log(password, confirmPassword);\n        axios.post('http://localhost:5050/user',\n            { id: 1, email: 'agent203@spyacademy.org', password: password})\n            .then((response) => {\n                if (response.status == 201) {\n                    this.setState({\n                        success: true,\n                    })\n                }\n            });\n            // alertService.clear();\n            // accountService.resetPassword({ token, password, confirmPassword })\n            //     .then(() => {\n            //         alertService.success('Password reset successful, you can now login', { keepAfterRouteChange: true });\n            //         history.push('login');\n            //     })\n            //     .catch(error => {\n            //         setSubmitting(false);\n            //         alertService.error(error);\n            //     });\n    }\n\n    render() {\n        return (\n            <div>\n                <Snackbar open={this.state.success} autoHideDuration={4000}\n                          anchorOrigin={{vertical: 'top', horizontal: 'right'}} style={{top: '100px'}}\n                          onClose={this.handleClose}>\n                    <MuiAlert elevation={6} variant=\"filled\" severity=\"success\">Password Reset Successful. Redirecting to Login Page</MuiAlert>\n                </Snackbar>\n                <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={this.onSubmit}>\n                    {({errors, touched}) => (\n                        <Form>\n                            <br/>\n                            <h2 style={{ textAlign: 'center' }}>Reset Password</h2>\n                            <div className=\"card-body\">\n                                <div className=\"form-group\">\n                                    <label>Password</label>\n                                    <Field name=\"password\" type=\"password\"\n                                           className={'form-control' + (errors.password && touched.password ? ' is-invalid' : '')}/>\n                                    <ErrorMessage name=\"password\" component=\"div\" className=\"invalid-feedback\"/>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Confirm Password</label>\n                                    <Field name=\"confirmPassword\" type=\"password\"\n                                           className={'form-control' + (errors.confirmPassword && touched.confirmPassword ? ' is-invalid' : '')}/>\n                                    <ErrorMessage name=\"confirmPassword\" component=\"div\" className=\"invalid-feedback\"/>\n                                </div>\n                                <div className=\"form-row\">\n                                    <div className=\"form-group col\">\n                                        <button type=\"submit\"  className=\"signin-btn\">\n                                            Reset Password\n                                        </button>\n                                        <a href='javascript:void(0)' onClick={() => this.props.changeView('resetToLogin')}>Cancel</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </Form>\n                    )}\n                </Formik>\n            </div>\n        );\n    }\n}\n\nexport default ResetPassword;"]},"metadata":{},"sourceType":"module"}